<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/BB.Color.js - BB.js</title>
        
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/prettify-nick.css">

    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    
    <script src="../assets/vendor/yui-min.js"></script>
</head>
<body>

<div id="doc">
    <div id="bd" class="main-body">

        <div id="docs-sidebar" class="sidebar apidocs">
            <div id="api-list">
                <div id="api-tabview" class="tabview">
                    <ul class="tabs">
                        <li><a href="#api-classes">Classes</a></li>
                        <!-- <li><a href="#api-modules">Modules</a></li> -->
                    </ul>
            
                    <div id="api-tabview-filter">
                        <input type="search" id="api-filter" placeholder="Type to filter APIs">
                    </div>
            
                    <div id="api-tabview-panel">
                        <ul id="api-classes" class="apis classes">
                            <li><a class="type" href="../classes/BB.BaseBrush2D.html">BB.BaseBrush2D</a></li>
                            <li><a class="type" href="../classes/BB.BrushManager2D.html">BB.BrushManager2D</a></li>
                            <li><a class="type" href="../classes/BB.Color.html">BB.Color</a></li>
                            <li><a class="type" href="../classes/BB.ImageBrush2D.html">BB.ImageBrush2D</a></li>
                            <li><a class="type" href="../classes/BB.LineBrush2D.html">BB.LineBrush2D</a></li>
                            <li><a class="type" href="../classes/BB.MathUtils.html">BB.MathUtils</a></li>
                            <li><a class="type" href="../classes/BB.MouseInput.html">BB.MouseInput</a></li>
                            <li><a class="type" href="../classes/BB.Particle2D.html">BB.Particle2D</a></li>
                            <li><a class="type" href="../classes/BB.Pointer.html">BB.Pointer</a></li>
                            <li><a class="type" href="../classes/BB.Vector2.html">BB.Vector2</a></li>
                        </ul>
            
                      <!--   <ul id="api-modules" class="apis modules">
                            <li><a class="module" href="../modules/BB.BaseBrush2D.html">BB.BaseBrush2D</a></li>
                            <li><a class="module" href="../modules/BB.BrushManager2D.html">BB.BrushManager2D</a></li>
                            <li><a class="module" href="../modules/BB.Color.html">BB.Color</a></li>
                            <li><a class="module" href="../modules/BB.ImageBrush2D.html">BB.ImageBrush2D</a></li>
                            <li><a class="module" href="../modules/BB.LineBrush2D.html">BB.LineBrush2D</a></li>
                            <li><a class="module" href="../modules/BB.MathUtils.html">BB.MathUtils</a></li>
                            <li><a class="module" href="../modules/BB.MouseInput.html">BB.MouseInput</a></li>
                            <li><a class="module" href="../modules/BB.particle2D.html">BB.particle2D</a></li>
                            <li><a class="module" href="../modules/BB.Pointer.html">BB.Pointer</a></li>
                            <li><a class="module" href="../modules/BB.Vector2.html">BB.Vector2</a></li>
                        </ul> -->
                    </div>
                </div>
            </div>
        </div>

        <div id="docs-main" class="apidocs">
            <div class="content container">
    <h1 class="file-heading">File: src/BB.Color.js</h1>
    
    <div class="file">
    <pre class="code prettyprint overflow linenums">
    /**
     * A module for creating color objects, color schemes and doing color maths
     * @module BB.Color
     */
    define([&#x27;./BB&#x27;],
    function(  BB){
    
        &#x27;use strict&#x27;;
        
        /**
         * A module for creating color objects, color schemes and doing color maths
         * @class BB.Color
         * @constructor
         * @param {Number} [r] optional parameter for setting the red value (0-255)
         * @param {Number} [g] optional parameter for setting the green value (0-255)
         * @param {Number} [b] optional parameter for setting the blue value (0-255)
         * @param {Number} [a] optional parameter for setting the alpha value (0-255)
         * @example 
         * &lt;pre class=&quot;code prettyprint&quot;&gt; var color = new BB.Color(255,0,0); &lt;/pre&gt;
         */
    
        BB.Color = function(r, g, b, a) {
    
            // see getter/setter below
            if( typeof r == &quot;undefined&quot; ){
                this._r = 204; 
            }
            else if( typeof r !== &#x27;number&#x27; || r&lt;0 || r&gt;255 ){
                throw new Error(&quot;BB.Color: red parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this._r = r;     
            }
    
            // see getter/setter below
            if( typeof g == &quot;undefined&quot; ){
                this._g = 51; 
            }
            else if( typeof g !== &#x27;number&#x27; || g&lt;0 || g&gt;255 ){
                throw new Error(&quot;BB.Color: green parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this._g = g;        
            }
    
            // see getter/setter below
            if( typeof b == &quot;undefined&quot; ){
                this._b = 153; 
            }
            else if( typeof b !== &#x27;number&#x27; || b&lt;0 || b&gt;255 ){
                throw new Error(&quot;BB.Color: blue parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this._b = b;        
            }
    
            // see getter/setter below
            if( typeof a == &quot;undefined&quot; ){
                this._a = 255; 
            }
            else if(  a&lt;0 || a&gt;255 ){
                throw new Error(&quot;BB.Color: alpha parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this._a = a;        
            }
    
           this.rgb2hsv();
    
            /**
             * object with properties ( named after different color schemes ) for
             * holding arrays of new BB.Color objects generated with the
             * &lt;a href=&quot;#method_createScheme&quot;&gt;&lt;code&gt;createScheme()&lt;/code&gt;&lt;/a&gt; method. 
             * 
             * @type {Object}
             * @property schemes
             */
            this.schemes = {
                &#x27;monochromatic&#x27; : [],
                &#x27;analogous&#x27; : [],
                &#x27;complementary&#x27; : [],
                &#x27;splitcomplementary&#x27; : [],
                &#x27;triadic&#x27; : [],
                &#x27;tetradic&#x27; : [],
                &#x27;random&#x27; : []
            };
        };
    
        /**
         * the red value between 0 - 255
         * @property r (red)
         * @type Number
         * @default 204
         */   
        Object.defineProperty(BB.Color.prototype, &quot;r&quot;, {
            get: function() {
                return this._r;
            },
            set: function(r) {
                if( typeof r !== &#x27;number&#x27; || r&lt;0 || r&gt;255 ){
                    throw new Error(&quot;BB.Color: red parameter neeeds to be a NUMBER between 0 - 255&quot;);
                } else {
                    this._r = r;    
                    this.rgb2hsv(); 
                }
            }
        });
    
        /**
         * the green value between 0 - 255
         * @property g (green)
         * @type Number
         * @default 51
         */   
        Object.defineProperty(BB.Color.prototype, &quot;g&quot;, {
            get: function() {
                return this._g;
            },
            set: function(g) {
                if( typeof g !== &#x27;number&#x27; || g&lt;0 || g&gt;255 ){
                    throw new Error(&quot;BB.Color: green parameter neeeds to be a NUMBER between 0 - 255&quot;);
                } else {
                    this._g = g;    
                    this.rgb2hsv(); 
                }
            }
        });
    
        /**
         * the blue value between 0 - 255
         * @property b (blue)
         * @type Number
         * @default 153
         */   
        Object.defineProperty(BB.Color.prototype, &quot;b&quot;, {
            get: function() {
                return this._b;
            },
            set: function(b) {
                if( typeof b !== &#x27;number&#x27; || b&lt;0 || b&gt;255 ){
                    throw new Error(&quot;BB.Color: blue parameter neeeds to be a NUMBER between 0 - 255&quot;);
                } else {
                    this._b = b;    
                    this.rgb2hsv(); 
                }
            }
        });
    
        /**
         * the alpha value between 0 - 255
         * @property a (alpha)
         * @type Number
         * @default 255
         */   
        Object.defineProperty(BB.Color.prototype, &quot;a&quot;, {
            get: function() {
                return this._a;
            },
            set: function(a) {
                if( typeof a !== &#x27;number&#x27; || a&lt;0 || a&gt;255 ){
                    throw new Error(&quot;BB.Color: alpha parameter neeeds to be a NUMBER between 0 - 255&quot;);
                } else {
                    this._a = a;    
                    this.rgb2hsv(); 
                }
            }
        });
    
        /**
         * the hue value between 0 - 359
         * @property h (hue)
         * @type Number
         * @default 0
         */   
        Object.defineProperty(BB.Color.prototype, &quot;h&quot;, {
            get: function() {
                return this._h;
            },
            set: function(h) {
                if( typeof h !== &#x27;number&#x27; || h&lt;0 || h&gt;359 ){
                    throw new Error(&quot;BB.Color: hue parameter neeeds to be a NUMBER between 0 - 359&quot;);
                } else {
                    this._h = h;    
                    this.hsv2rgb(); 
                }
            }
        });
    
        /**
         * the saturation value between 0 - 100
         * @property s (saturatoin)
         * @type Number
         * @default 0
         */   
        Object.defineProperty(BB.Color.prototype, &quot;s&quot;, {
            get: function() {
                return this._s;
            },
            set: function(s) {
                if( typeof s !== &#x27;number&#x27; || s&lt;0 || s&gt;100 ){
                    throw new Error(&quot;BB.Color: saturation parameter neeeds to be a NUMBER between 0 - 100&quot;);
                } else {
                    this._s = s;    
                    this.hsv2rgb(); 
                }
            }
        });
    
        /**
         * the brightness/lightness value between 0 - 100
         * @property v (value)
         * @type Number
         * @default 0
         */   
        Object.defineProperty(BB.Color.prototype, &quot;v&quot;, {
            get: function() {
                return this._v;
            },
            set: function(v) {
                if( typeof v !== &#x27;number&#x27; || v&lt;0 || v&gt;100 ){
                    throw new Error(&quot;BB.Color: brightness/lightness parameter neeeds to be a NUMBER between 0 - 100&quot;);
                } else {
                    this._v = v;    
                    this.hsv2rgb(); 
                }
            }
        });
    
    
        /**
         * the base color&#x27;s rgb string
         * @property rgb
         * @type String
         * @default &quot;rgb(204,51,153)&quot;
         */   
        Object.defineProperty(BB.Color.prototype, &quot;rgb&quot;, {
            get: function() {
                return &#x27;rgb(&#x27;+this.r+&#x27;, &#x27;+this.g+&#x27;, &#x27;+this.b+&#x27;)&#x27;;
            },
            set: function(v) {
                if( typeof v !== &#x27;string&#x27; ){
                    throw new Error(&quot;BB.Color: rgb parameter expects an rgb(...) string&quot;);
                } else {
                    if( v.indexOf(&#x27;rgb(&#x27;) !== 0){
                        throw new Error(&quot;BB.Color: expecting string staring with &#x27;rgb(&#x27; &quot;);
                    }
                    else if( v[v.length-1] !== &quot;)&quot;){
                        throw new Error(&quot;BB.Color: expecting string ending with &#x27;)&#x27; &quot;);
                    } 
                    else {
                        v = v.substr(4,v.length-5);
                        v = v.split(&#x27;,&#x27;);
                        if( v.length &lt; 3 ) throw new Error(&quot;BB.Color: rgb(...) requires 3 properties&quot;);
                        v[0] = parseInt(v[0]);
                        v[1] = parseInt(v[1]);
                        v[2] = parseInt(v[2]);
                        if( v[0] &lt; 0 || v[0] &gt; 255 ) throw new Error(&quot;BB.Color: red value must be between 0 - 255 &quot;);
                        if( v[1] &lt; 0 || v[1] &gt; 255 ) throw new Error(&quot;BB.Color: green value must be between 0 - 255 &quot;);
                        if( v[2] &lt; 0 || v[2] &gt; 255 ) throw new Error(&quot;BB.Color: blue value must be between 0 - 255 &quot;);
                        this.r = v[0];
                        this.g = v[1];
                        this.b = v[2];
                    }
                }
            }
        });
    
    
        /**
         * the base color&#x27;s rgba string
         * @property rgba
         * @type String
         * @default &quot;rgba(204,51,153,1)&quot;
         */   
        Object.defineProperty(BB.Color.prototype, &quot;rgba&quot;, {
            get: function() {
                return &#x27;rgba(&#x27;+this.r+&#x27;, &#x27;+this.g+&#x27;, &#x27;+this.b+&#x27;,&#x27;+Math.floor((this.a/255)*100)/100+&#x27;)&#x27;;
            },
            set: function(v) {
                if( typeof v !== &#x27;string&#x27; ){
                    throw new Error(&quot;BB.Color: rgba parameter expects an rgba(...) string&quot;);
                } else {
                    if( v.indexOf(&#x27;rgba(&#x27;) !== 0){
                        throw new Error(&quot;BB.Color: expecting string staring with &#x27;rgba(&#x27; &quot;);
                    }
                    else if( v[v.length-1] !== &quot;)&quot;){
                        throw new Error(&quot;BB.Color: expecting string ending with &#x27;)&#x27; &quot;);
                    } 
                    else {
                        v = v.substr(5,v.length-6);
                        v = v.split(&#x27;,&#x27;);
                        if( v.length &lt; 4 ) throw new Error(&quot;BB.Color: rgba(...) requires 4 properties&quot;);
                        v[0] = parseInt(v[0]);
                        v[1] = parseInt(v[1]);
                        v[2] = parseInt(v[2]);
                        v[3] = parseFloat(v[3]);
                        if( v[0] &lt; 0 || v[0] &gt; 255 ) throw new Error(&quot;BB.Color: red value must be between 0 - 255 &quot;);
                        if( v[1] &lt; 0 || v[1] &gt; 255 ) throw new Error(&quot;BB.Color: green value must be between 0 - 255 &quot;);
                        if( v[2] &lt; 0 || v[2] &gt; 255 ) throw new Error(&quot;BB.Color: blue value must be between 0 - 255 &quot;);
                        if( v[3] &lt; 0.0 || v[3] &gt; 1.0 ) throw new Error(&quot;BB.Color: alpha value must be between 0.0 - 1.0 &quot;);
                        this.r = v[0];
                        this.g = v[1];
                        this.b = v[2];
                        this.a = Math.floor( v[3] * 255 );
                    }
                }
            }
        });
    
        /**
         * the base color&#x27;s hex string
         * @property hex
         * @type String
         * @default &quot;#cc3399&quot;
         */   
        Object.defineProperty(BB.Color.prototype, &quot;hex&quot;, {
            get: function() {
                return &quot;#&quot; +((this.r &lt;&lt; 16) | (this.g &lt;&lt; 8) | this.b).toString(16);
            },
            set: function(v) {
                if( typeof v !== &#x27;string&#x27; ){
                    throw new Error(&quot;BB.Color: hex parameter expects a # string&quot;);
                } 
                else {
                       if (v.indexOf(&#x27;#&#x27;) !== 0) {
                            throw new Error(&quot;BB.Color: expecting string staring with &#x27;#&#x27; &quot;);
                        }
                        else if( v.length !== 7 &amp;&amp; v.length !== 4  ){
                            throw new Error(&quot;BB.Color: hex string is too long or short &quot;);
                        }
                        else {
                            var a;
                            if(v.length === 7 ){
                                v = v.substr(1,v.length-1);
                                a = [ v.substr(0,v.length-4), v.substr(2,v.length-4), v.substr(4,v.length-4)];
                                console.log( parseInt(&#x27;0x&#x27;+a[0]), parseInt(&#x27;0x&#x27;+a[1]), parseInt(&#x27;0x&#x27;+a[2]) );
                                this.r = parseInt(&#x27;0x&#x27;+a[0]);
                                this.g = parseInt(&#x27;0x&#x27;+a[1]);
                                this.b = parseInt(&#x27;0x&#x27;+a[2]);
                            }
                            else {
                                v = v.substr(1,v.length-1);
                                a = [ v.substr(0,v.length-2), v.substr(1,v.length-2), v.substr(2,v.length-2)];
                                this.r = parseInt(&#x27;0x&#x27;+a[0]+a[0]);
                                this.g = parseInt(&#x27;0x&#x27;+a[1]+a[1]);
                                this.b = parseInt(&#x27;0x&#x27;+a[2]+a[2]);
                            }
                        }
                }
            }
        });
    
    
    
        /**
         * sets color value to match another color object&#x27;s value
         * @method copy
         * @param {BB.Color} color another color object to copy from
         * @example
         * &lt;code class=&quot;code prettyprint&quot;&gt;
         * &amp;nbsp; var x = new color(0,255,0); &lt;br&gt;
         * &amp;nbsp; var y = new color(100,100,100); &lt;br&gt;
         * &amp;nbsp; y.copy( x ); &lt;br&gt;
         * &amp;nbsp; y.rgb; // returns &#x27;rgb(0,255,0)&#x27;;                         
         * &lt;/code&gt;
         */
        BB.Color.prototype.copy = function( color ) { 
            if (! color || !this.isLikeColor( color ) ) {
                throw new Error(&quot;BB.Color.copy: color parameter is not an instance of BB.Color&quot;);
            }
            this.setRGBA( color.r, color.g, color.b, color.a );
        };
    
        /**
         * creates a new color object that is a copy of itself
         * @method clone
         * @return {BB.Color} a new color object copied from this one
         * @example
         * &lt;code class=&quot;code prettyprint&quot;&gt;
         * &amp;nbsp; var x = new color(0,255,0); &lt;br&gt;
         * &amp;nbsp; var y = x.clone(); &lt;br&gt;
         * &amp;nbsp; y.rgb; // returns &#x27;rgb(0,255,0)&#x27;;
         * &lt;/code&gt;
         */
        BB.Color.prototype.clone = function() { 
            var child = new BB.Color();
                child.copy( this );
            return child;
        };
    
        /**
         * sets the rgba value of the color
         * @method setRGBA
         * @param {Number} r sets the red value from 0 - 255 
         * @param {Number} g sets the green value from 0 - 255 
         * @param {Number} b sets the blue value from 0 - 255 
         * @param {Number} a sets the alpha value from 0 - 255 
         */
        BB.Color.prototype.setRGBA = function(r, g, b, a) {
    
    
            if( typeof r !== &#x27;number&#x27; || r&lt;0 || r&gt;255 ){
                throw new Error(&quot;BB.Color: red parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this.r = r;
            }
    
            if( typeof g !== &#x27;number&#x27; || g&lt;0 || g&gt;255 ){
                throw new Error(&quot;BB.Color: green parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this.g = g;
            }
    
            if( typeof b !== &#x27;number&#x27; || b&lt;0 || b&gt;255 ){
                throw new Error(&quot;BB.Color: blue parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this.b = b;
            }
    
            if( typeof a !== &#x27;number&#x27; || a&lt;0 || a&gt;255 ){
                throw new Error(&quot;BB.Color: alpha parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this.a = a;
            }
    
            this.rgb2hsv();
        };
        
        /**
         * sets the h(hue) s(saturation) v(value) of the color
         * @method setHSVA
         * @param {Number} h sets the hue value from 0 - 359
         * @param {Number} s sets the saturation value from 0 - 100
         * @param {Number} v sets the light/bright value from 0 - 100
         * @param {Number} a sets the alpha value from 0 - 255
         */
        BB.Color.prototype.setHSVA = function(h, s, v, a) {
            
            if( typeof h !== &#x27;number&#x27; || h&lt;0 || h&gt;359 ){
                throw new Error(&quot;BB.Color: hue parameter neeeds to be a NUMBER between 0 - 359&quot;);
            } else {
                this.h = h;
            }
    
            if( typeof s !== &#x27;number&#x27; || s&lt;0 || s&gt;100 ){
                throw new Error(&quot;BB.Color: saturation parameter neeeds to be a NUMBER between 0 - 100&quot;);
            } else {
                this.s = s;
            }
    
            if( typeof v !== &#x27;number&#x27; || v&lt;0 || v&gt;100 ){
                throw new Error(&quot;BB.Color: value parameter neeeds to be a NUMBER between 0 - 100&quot;);
            } else {
                this.v = v;
            }
    
            if( typeof a !== &#x27;number&#x27; || a&lt;0 || a&gt;255 ){
                throw new Error(&quot;BB.Color: alpha parameter neeeds to be a NUMBER between 0 - 255&quot;);
            } else {
                this.a = a;
            }
    
            this.hsv2rgb();
        };
    
    
    
        //
    
    
        /**
         * checks if another color object is equal to itself
         * 
         * @method isEqual
         * @param {BB.Color} color another color object to compare to
         * @param {Boolean} excludeAlpha whether or not to exlude Alpha property
         * @return {Boolean}     true if it&#x27;s equal, fals if it&#x27;s not
         */
        BB.Color.prototype.isEqual = function(color, excludeAlpha) {
    
            if (! color || !(color instanceof BB.Color) ) {
                throw new Error(&quot;BB.Color.isEqual: color parameter is not an instance of BB.Color&quot;);
            }
    
            if (excludeAlpha) {
                return (this.r === color.r &amp;&amp;
                        this.g === color.g &amp;&amp;
                        this.b === color.b);
            } else {
                return (this.r === color.r &amp;&amp;
                        this.g === color.g &amp;&amp;
                        this.b === color.b &amp;&amp;
                        this.a === color.a);
            }
        };
    
        BB.Color.prototype.isLikeColor = function( obj) { 
           return   typeof obj.r !== &quot;undefined&quot; &amp;&amp;
                    typeof obj.g !== &quot;undefined&quot; &amp;&amp;
                    typeof obj.b !== &quot;undefined&quot; &amp;&amp;
                    typeof obj.a !== &quot;undefined&quot;;
        }; 
    
        BB.Color.prototype.min3 = function( a,b,c ) { 
            return ( a&lt;b )   ?   ( ( a&lt;c ) ? a : c )   :   ( ( b&lt;c ) ? b : c ); 
        }; 
        
        BB.Color.prototype.max3 = function( a,b,c ) { 
            return ( a&gt;b )   ?   ( ( a&gt;c ) ? a : c )   :   ( ( b&gt;c ) ? b : c );
        };
    
    
        //
    
    
        /**
         * converts rgb values into hsv values, you can pass it an instance of
         * BB.Color as a single parameter or pass it three individual parameters (
         * for r, g and b ) and it returns an object with h,s,v properties.
         *
         * if you don&#x27;t pass it any parameters it takes its own internal values as
         * arguments and updates it&#x27;s own internal hsv automatically ( that
         * functionality is used internally, for ex. by the getters &amp;&amp; setters )
         * 
         * @method rgb2hsv
         * @param  {Number} [rgb] either an instance of BB.Color or a red value
         * between 0 - 255
         * @param  {Number} [g]   a green value between 0 - 255
         * @param  {Number} [b]   a blue value value between 0 - 255
         * @return {Object}     an object with h, s, v properties
         */
        BB.Color.prototype.rgb2hsv = function( rgb, g, b ) { 
    
            var self;
            if( typeof rgb == &quot;undefined&quot;){
                self = this;
            } else {
                self = ( rgb instanceof BB.Color ) ? rgb : { r:rgb, g:g, b:b };
            }
    
            var hsv = {};
            var max = this.max3( self.r, self.g, self.b );
            var dif = max - this.min3( self.r, self.g, self.b );
    
            hsv.s = (max===0.0) ? 0 : (100*dif/max);
    
            if ( hsv.s === 0 ) hsv.h = 0;
            else if ( self.r==max ) hsv.h = 60.0 * ( self.g-self.b )/dif;
            else if ( self.g==max ) hsv.h = 120.0+60.0 * ( self.b-self.r )/dif;
            else if ( self.b==max ) hsv.h = 240.0+60.0 * ( self.r-self.g )/dif;
    
            if ( hsv.h &lt; 0.0 ) hsv.h += 360.0;
    
            hsv.h = Math.round( hsv.h );           
            hsv.s = Math.round( hsv.s );    
            hsv.v = Math.round( max*100/255 );      
    
            if( typeof rgb == &quot;undefined&quot;){
                this._h = hsv.h;         
                this._s = hsv.s;  
                this._v = hsv.v;     
            } 
    
            return hsv;
        };
    
        /**
         * converts hsv values into rgb values, you can pass it an instance of
         * BB.Color as a single parameter or pass it three individual parameters (
         * for h, s and v ) and it returns an object with r,g,b properties.
         *
         * if you don&#x27;t pass it any parameters it takes its own internal values as
         * arguments and updates it&#x27;s own internal rgb automatically ( that
         * functionality is used internally, for ex. by the getters &amp;&amp; setters )
         *
         * @method hsv2rgb
         * @param  {Number} [h] either an instance of BB.Color or a h value between 0 - 359
         * @param  {Number} [s]   a saturation value between 0 - 100
         * @param  {Number} [v]   a brightness/lightness value value between 0 - 100
         * @return {Object}     an object with r, g, b properties
         */
        BB.Color.prototype.hsv2rgb = function( h, s, v ) { 
            var rgb, hsv;
    
            if( typeof h == &quot;undefined&quot;){
    
                rgb = { r:this.r, g:this.g, b:this.b };
                hsv = { h:this.h, s:this.s, v:this.v }; 
    
            } else {
    
                rgb = {};
                hsv = ( h instanceof BB.Color ) ? h.clone() : { h:h, s:s, v:v };
            }
       
            hsv.h /= 60;
            hsv.s /= 100;
            hsv.v /= 100;
            
            var i = Math.floor( hsv.h );
            var f = hsv.h - i;
            var p = hsv.v * ( 1- hsv.s );
            var q = hsv.v * ( 1 - hsv.s * f );
            var t = hsv.v * ( 1 - hsv.s * (1-f) );
            
            switch( i ) {
                case 0: rgb.r = hsv.v; rgb.g = t; rgb.b = p; break;
                case 1: rgb.r = q; rgb.g = hsv.v; rgb.b = p; break;
                case 2: rgb.r = p; rgb.g = hsv.v; rgb.b = t; break;
                case 3: rgb.r = p; rgb.g = q; rgb.b = hsv.v; break;
                case 4: rgb.r = t; rgb.g = p; rgb.b = hsv.v; break;
                default: rgb.r = hsv.v; rgb.g = p; rgb.b = q;
            }
    
            rgb.r = Math.round(rgb.r * 255);
            rgb.g = Math.round(rgb.g * 255);
            rgb.b = Math.round(rgb.b * 255);
    
            if( arguments.length === 0 ){
    
                this._r = rgb.r;         
                this._g = rgb.g;  
                this._b = rgb.b;    
    
            } 
            
            return rgb;
        
        };
    
    
        //
    
        /**
         * changes the color by shifting current hue value by a number of degrees, also chainable ( see example )
         *
         * can also take an additional hue parameter when used as a utility ( see example ), used this way internally by &lt;code&gt;.createScheme&lt;/code&gt;
         *
         * @method shift
         * @chainable
         * @param {Number} degrees number of degress to shift current hue by ( think rotating a color wheel )
         * @return {BB.Color} this color
         * @example
         * &lt;code class=&quot;code prettyprint&quot;&gt;
         * &amp;nbsp; color.shift( 10 ); // shifts by 10 degrees &lt;br&gt;
         * &amp;nbsp; var comp = color.clone().shift( 180 ); // new complementary color obj &lt;br&gt;&lt;br&gt;
         * &amp;nbsp; // as a utility ( without changing the color )  &lt;br&gt;
         * &amp;nbsp; color.shift( 180, color.h ); // returns the complementary hue ( in degrees ) 
         * &lt;/code&gt;
         */
        BB.Color.prototype.shift = function( degrees, hue ) { 
            var h;
    
            if( typeof hue === &quot;undefined&quot; ) h = this.h;
            else  h = hue;
            h += degrees; 
            
            while ( h&gt;=360.0 )  h -= 360.0; 
            while ( h&lt;0.0 )     h += 360.0; 
    
            if( typeof hue === &quot;undefined&quot; ){
                this.h = h;
                return this; // for chainging
            } 
            else {  return h; }
        };
    
        /**
         * changes the color by lightening it by a certain percentage
         *
         * @method tint
         * @param {Number} percentage float between 0 and 1
         */
        BB.Color.prototype.tint = function( percentage, _schemeUse ) { 
            var col = {};
            var tint = percentage;
            col.r = Math.round( this.r+(255-this.r ) * tint );
            col.g = Math.round( this.g+(255-this.g ) * tint );
            col.b = Math.round( this.b+(255-this.b ) * tint );
            col.a = this.a;
            if( typeof _schemeUse !== &quot;undefined&quot;) {
                return new BB.Color( col.r, col.g, col.b, col.a );
            }
            else { this.setRGBA( col.r, col.g, col.b, col.a ); }
        };
    
    
        /**
         * changes the color by darkening it by a certain percentage
         *
         * @method shade
         * @param {Number} percentage float between 0 and 1
         */
        BB.Color.prototype.shade = function( percentage, _schemeUse ) { 
            var col = {};
            var shade = percentage;
            col.r = Math.round( this.r * shade );
            col.g = Math.round( this.g * shade );
            col.b = Math.round( this.b * shade );
            col.a = this.a;
            if( typeof _schemeUse !== &quot;undefined&quot;) {
                return new BB.Color( col.r, col.g, col.b, col.a );
            }
            else { this.setRGBA( col.r, col.g, col.b, col.a ); }
        };
    
    
    
        /**
         * generates a color scheme ( array of additional color values ) from the
         * base color.
         *
         * the colors are stored in an array in the &lt;code&gt;.schemes&lt;/code&gt; property (
         * object ) and can be accessed by querying the key ( name ) of the color
         * scheme you generated like so: &lt;code&gt; .schemes.triadic &lt;/code&gt;, which
         * will return an array of BB.Color objects
         * 
         * @method createScheme
         * 
         * @param  {String} scheme name of the color scheme you want to generate.
         * can be either &quot;monochromatic&quot;, &quot;analogous&quot;, &quot;complementary&quot;, 
         * &quot;splitcomplementary&quot;, &quot;triadic&quot;, &quot;tetradic&quot; or &quot;random&quot;
         * 
         * @param  {Object} optional config object with properties for angle (Number) for hue
         * shift ( for schemes other than &quot;complimentary&quot; or &quot;triadic&quot; which have fixed 
         * angles ), tint (Array of Floats) and shade (Array of Flaots), which
         * are used to create aditional monochromatic colors ( tint for light variations of
         * the base color and shade for dark ) in relation to the base colors of each scheme
         *
         * the &quot;random&quot; scheme takes an entirely different config object with values for hue,
         * saturation and value. when no config is sent it generates entirely random colors.
         * when a &lt;code&gt;{ hue: 200 }&lt;/code&gt; is passed than you&#x27;d get random shades of blue, etc.
         *
         * if you need a color scheme/theory refersher: &lt;a href=&quot;http://www.tigercolor.com/color-lab/color-theory/color-theory-intro.htm&quot; target=&quot;_blank&quot;&gt; check this out&lt;/a&gt;
         * 
         * @example  &lt;code class=&quot;code prettyprint&quot;&gt;  
         * &amp;nbsp; color.createScheme(&quot;complementary&quot;); // creates single complementary color &lt;br&gt;&lt;br&gt;
         * &amp;nbsp; // creates two analogous colors &lt;br&gt;
         * &amp;nbsp; // as well as 2 shades and 2 tints for each of the two analogous colors&lt;br&gt;
         * &amp;nbsp; // so color.schemes.analogous.length will be 10&lt;br&gt;
         * &amp;nbsp; color.createScheme(&quot;analogous&quot;,{ &lt;br&gt; 
         * &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; angle: 30,&lt;br&gt; 
         * &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tint:[ 0.4, 0.8 ], &lt;br&gt;
         * &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; shade:[ 0.3, 0.6 ] &lt;br&gt; 
         * &amp;nbsp; }); &lt;br&gt;&lt;br&gt;
         * &amp;nbsp; color.createScheme(&quot;random&quot;,{ &lt;br&gt; 
         * &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; hue: 200,&lt;br&gt; 
         * &amp;nbsp; }); &lt;br&gt;&lt;br&gt;
         * &amp;nbsp; color.schemes.analogous[0] // returns first analogous color &lt;br&gt; 
         * &amp;nbsp; color.schemes.analogous[1] // returns second analogous color &lt;br&gt; 
         * &amp;nbsp; color.schemes.random[0] // returns first random blue shade &lt;br&gt; &lt;/code&gt;
         */
        BB.Color.prototype.createScheme = function( scheme, config ) { 
    
            // ERROR CHECKING -----------------------------------------------------------
    
            if( !(scheme in this.schemes) ) {
                throw new Error(&quot;BB.Color.createScheme: &#x27;&quot;+scheme+&quot;&#x27; is not a valid scheme name, choose from: &quot;+Object.keys(this.schemes) );
            }
    
            if( typeof config === &quot;object&quot; || typeof config === &quot;undefined&quot;  ){  
                            
                if( typeof config === &quot;undefined&quot; ) config = {};
    
                // defaults for color schemes
                
                if( typeof config.angle === &quot;undefined&quot; ){
                    if(scheme==&quot;tetradic&quot;) config.angle = 40;
                    else config.angle = 30;
                }
                if( scheme == &quot;monochromatic&quot; ){
                    if( typeof config.tint === &quot;undefined&quot; ){ config.tint = [0.4,0.8]; }
                    else if( !(config.tint instanceof Array) ){
                      throw new Error(&quot;BB.Color.createScheme: tint should be an Array of floats between 0.0-1.0&quot;);  
                    } 
                    if( typeof config.shade === &quot;undefined&quot; ){ config.shade = [0.3,0.6]; }
                    else if( !(config.shade instanceof Array) ){
                      throw new Error(&quot;BB.Color.createScheme: shade should be an Array of floats between 0.0-1.0&quot;);  
                    } 
                }
    
                // defaults for random schemes
                
                if( scheme == &quot;random&quot; ){
                    if( typeof config.count === &quot;undefined&quot; ){ config.count = 5; } 
                }
            }
    
            if( typeof config !== &quot;object&quot; ) {
    
                throw new Error(&quot;BB.Color.createScheme: config parameter should be an Object&quot; );
    
            } else {
    
            // GENERATING THE SCHEME ----------------------------------------------------
    
                this.schemes[scheme] = []; // clear previous colors
    
                var angles;
                switch( scheme ) {
                    case &quot;analogous&quot;: angles = [ config.angle, 0-config.angle ];  break;
                    case &quot;complementary&quot; : angles = [ 180 ];  break;
                    case &quot;splitcomplementary&quot;: angles = [ 180-config.angle, 180+config.angle];  break;
                    case &quot;triadic&quot; : angles = [ 240, 120 ];  break;
                    case &quot;tetradic&quot;: angles = [ 180, -config.angle, -config.angle+180 ];  break;
                }
    
                var ones = [&quot;analogous&quot;,&quot;complementary&quot;,&quot;splitcomplementary&quot;,&quot;triadic&quot;,&quot;tetradic&quot;];
                var twos = [&quot;analogous&quot;,&quot;splitcomplementary&quot;,&quot;triadic&quot;,&quot;tetradic&quot;];
                var threes = [&quot;tetradic&quot;];
    
                if( scheme == &quot;monochromatic&quot; )      this._schemeVarient( scheme, config );
                if( ones.indexOf( scheme ) &gt;= 0 )    this._schemeVarient( scheme, config, angles[0] );
                if( twos.indexOf( scheme ) &gt;= 0 )    this._schemeVarient( scheme, config, angles[1] );
                if( threes.indexOf( scheme ) &gt;= 0 )  this._schemeVarient( scheme, config, angles[2] );
    
                if( scheme == &quot;random&quot; ) this._randomVarients( scheme, config );
                             
            }
    
        };
    
        // private function for creating scheme variants
        // used by scheme functions 
        BB.Color.prototype._schemeVarient = function( scheme, config, angle ) { 
    
            var rgb, hsv;
            var self;
    
            if( scheme == &quot;monochromatic&quot; ){
                rgb = {r:this.r, g:this.g, b:this.b };
            } else {
                rgb     = { r:this.r, g:this.g, b:this.b };
                hsv     = this.rgb2hsv(     rgb.r, rgb.g, rgb.b     );
                hsv.h   = this.shift(   hsv.h, angle  );
                rgb     = this.hsv2rgb(     hsv.h, hsv.s, hsv.v     );       
            }
    
            self = new BB.Color(rgb.r, rgb.g, rgb.b );
    
            if( typeof config.tint !== &quot;undefined&quot; ){
                config.tint.sort(function(a,b){return b - a;}); // reorder largest to smallest
    
                for (var i = 0; i &lt; config.tint.length; i++) {
                    var col = self.tint( config.tint[i], true );
                    this.schemes[scheme].push( col );
                }
            }
    
            var copy = self.clone();
            this.schemes[scheme].push( copy );
            
            if( typeof config.shade !== &quot;undefined&quot; ){
                config.shade.sort(function(a,b){return b - a;}); // reorder largest to smallest
    
                for (var j = 0; j &lt; config.shade.length; j++) {
                    var col2 = self.shade( config.shade[j], true );
                    this.schemes[scheme].push( col2 );
                }
            }
        };
    
        // private function for creating random variants
        // used by scheme functions 
        BB.Color.prototype._randomVarients = function( scheme, config ) { 
    
            if( typeof config.count === &quot;undefined&quot; ) config.count = 5;
    
            for (var i = 0; i &lt; config.count; i++) {
    
                var hue = ( typeof config.hue === &quot;undefined&quot; ) ? Math.floor( Math.random()*360 ) : config.hue;
                var sat = ( typeof config.saturation === &quot;undefined&quot; ) ? Math.floor( Math.random()*100 ) : config.saturation;
                var value = ( typeof config.value === &quot;undefined&quot; ) ? Math.floor( Math.random()*100 ) : config.value;
                var alpha;
                if( typeof config.alpha !== &quot;undefined&quot; ){
                    alpha = ( config.alpha == &quot;random&quot; ) ? Math.floor( Math.random() * 255 ) : config.alpha;
                } else { alpha = 255; }
    
                var clr = this.hsv2rgb( hue, sat, value ); 
                    clr.a = alpha;
    
                var col = new BB.Color( clr.r, clr.g, clr.b, clr.a );
    
                this.schemes[scheme].push( col );
            }
        
        };
    
        return BB.Color;
    });
    </pre>
    </div>
            </div>
        </div>

    </div>
</div>

<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>

<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
